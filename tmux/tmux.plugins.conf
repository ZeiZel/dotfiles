# ============================================
# TMUX PLUGINS
# ============================================

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'tmux-plugins/tmux-logging'
set -g @plugin 'tmux-plugins/tmux-yank'

# Navigation
set -g @plugin 'christoomey/vim-tmux-navigator'

# Session management
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'omerxx/tmux-sessionx'

# Utils
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'fcsonline/tmux-thumbs'
set -g @plugin 'wfxr/tmux-fzf-url'
set -g @plugin 'laktak/extrakto'
set -g @plugin 'nhdaly/tmux-better-mouse-mode'

# ============================================
# PLUGIN CONFIGURATIONS
# ============================================

# Resurrect - save/restore sessions
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-processes 'ssh psql mysql sqlite3 btop lazygit nvim vim yazi'
set -g @resurrect-dir '~/.config/tmux/resurrect'

# Continuum - auto save/restore
set -g @continuum-restore 'on'
set -g @continuum-save-interval '10'

# SessionX - session manager
set -g @sessionx-bind 'o'
set -g @sessionx-bind-zo-new-window 'ctrl-y'
set -g @sessionx-auto-accept 'off'
set -g @sessionx-custom-paths '~/projects,~/.dotfiles,~/.config'
set -g @sessionx-window-height '85%'
set -g @sessionx-window-width '75%'
set -g @sessionx-zoxide-mode 'on'
set -g @sessionx-filter-current 'false'
set -g @sessionx-preview-enabled 'true'
# Catppuccin Mocha colors for SessionX
set -g @sessionx-fzf-opts '--color=bg+:#313244,bg:#1e1e2e,spinner:#f5e0dc,hl:#f38ba8,fg:#cdd6f4,header:#f38ba8,info:#cba6f7,pointer:#f5e0dc,marker:#f5e0dc,fg+:#cdd6f4,prompt:#cba6f7,hl+:#f38ba8'

# FZF URL - open URLs with fzf
set -g @fzf-url-bind 'u'
set -g @fzf-url-fzf-options '-p 60%,30% --prompt="  " --border-label=" Open URL " --color=bg+:#313244,bg:#1e1e2e,spinner:#f5e0dc,hl:#f38ba8,fg:#cdd6f4,header:#f38ba8,info:#cba6f7,pointer:#f5e0dc,marker:#f5e0dc,fg+:#cdd6f4,prompt:#cba6f7,hl+:#f38ba8'
set -g @fzf-url-history-limit '2000'

# Tmux-FZF
set -g @tmux-fzf-launch-key 'F'
TMUX_FZF_LAUNCH_KEY="F"
TMUX_FZF_OPTIONS="-p -w 75% -h 75% --color=bg+:#313244,bg:#1e1e2e,spinner:#f5e0dc,hl:#f38ba8,fg:#cdd6f4,header:#f38ba8,info:#cba6f7,pointer:#f5e0dc,marker:#f5e0dc,fg+:#cdd6f4,prompt:#cba6f7,hl+:#f38ba8"

# Thumbs - quick copy with hints
set -g @thumbs-key 'T'
set -g @thumbs-command 'echo -n {} | pbcopy'
set -g @thumbs-upcase-command 'echo -n {} | pbcopy'
set -g @thumbs-bg-color '#1e1e2e'
set -g @thumbs-fg-color '#cba6f7'
set -g @thumbs-hint-bg-color '#1e1e2e'
set -g @thumbs-hint-fg-color '#f38ba8'
set -g @thumbs-select-bg-color '#1e1e2e'
set -g @thumbs-select-fg-color '#a6e3a1'

# Extrakto - fuzzy search pane content
set -g @extrakto_key 'e'
set -g @extrakto_split_direction 'p'
set -g @extrakto_split_size '15'
set -g @extrakto_fzf_tool 'fzf'
set -g @extrakto_copy_key 'tab'
set -g @extrakto_insert_key 'enter'

# Better mouse mode
set -g @scroll-without-changing-pane 'on'
set -g @scroll-speed-num-lines-per-scroll '3'
set -g @emulate-scroll-for-no-mouse-alternate-buffer 'on'

# Vim-tmux-navigator
set -g @vim_navigator_mapping_left 'C-h'
set -g @vim_navigator_mapping_right 'C-l'
set -g @vim_navigator_mapping_up 'C-k'
set -g @vim_navigator_mapping_down 'C-j'
